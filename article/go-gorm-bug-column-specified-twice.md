# GORM框架的BUG

具体见<https://github.com/go-gorm/gorm/pull/4389>

## 出现原因

根据pr中的这段代码可知，对于整型主键字段，
如果其没有`autoIncrement`标签，则gorm
会自动给其添加自增属性。如果用户恰好给这个字段设置了
`default`标签，那么这个字段就会在最终的SQL
语句中出现两次，就产生了1110的MySQL错误。

据我所知，所有语言中布尔类型的默认值都为false
（如果有语言的布尔类型默认值为真请指出），
所以如果用户没有显式添加`autoIncrement`标签，
说明用户期望自增为假，而gorm却将这个字段设为自增的，
这与用户的预期不符，最终导致出现了BUG。

## 解决办法

一种是pr里的解决办法，不过被维护者拒绝了
（虽然拒绝的理由不能令我信服）；
二是显式地给字段添加`autoIncrement:false`标签
（虽然这应该是默认行为，我觉得多此一举）。